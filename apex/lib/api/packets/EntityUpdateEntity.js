"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EntityUpdateEntity = void 0;
const app = require("..");
class EntityUpdateEntity {
    constructor(id, members) {
        this.id = id;
        this.members = members;
    }
    static create(stream) {
        const id = stream.readVariableLength();
        const membersSize = stream.readVariableLength();
        const members = process(stream, membersSize);
        return new EntityUpdateEntity(id, members);
    }
}
exports.EntityUpdateEntity = EntityUpdateEntity;
function process(stream, size) {
    const result = new Array(size);
    for (let i = 0; i < size; i++)
        result[i] = app.EntityUpdateEntityMember.create(stream);
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW50aXR5VXBkYXRlRW50aXR5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9hcGkvcGFja2V0cy9FbnRpdHlVcGRhdGVFbnRpdHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMEJBQTBCO0FBRTFCLE1BQWEsa0JBQWtCO0lBQzdCLFlBQ1csRUFBVSxFQUNWLE9BQTRDO1FBRDVDLE9BQUUsR0FBRixFQUFFLENBQVE7UUFDVixZQUFPLEdBQVAsT0FBTyxDQUFxQztJQUFHLENBQUM7SUFFM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUF3QjtRQUNwQyxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUN2QyxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNoRCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sSUFBSSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0MsQ0FBQztDQUNGO0FBWEQsZ0RBV0M7QUFFRCxTQUFTLE9BQU8sQ0FBQyxNQUF3QixFQUFFLElBQVk7SUFDckQsTUFBTSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQStCLElBQUksQ0FBQyxDQUFDO0lBQzdELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFO1FBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdkYsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFwcCBmcm9tICcuLic7XHJcblxyXG5leHBvcnQgY2xhc3MgRW50aXR5VXBkYXRlRW50aXR5IHtcclxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxyXG4gICAgcmVhZG9ubHkgaWQ6IG51bWJlcixcclxuICAgIHJlYWRvbmx5IG1lbWJlcnM6IEFycmF5PGFwcC5FbnRpdHlVcGRhdGVFbnRpdHlNZW1iZXI+KSB7fVxyXG5cclxuICBzdGF0aWMgY3JlYXRlKHN0cmVhbTogYXBwLkJpbmFyeVJlYWRlcikge1xyXG4gICAgY29uc3QgaWQgPSBzdHJlYW0ucmVhZFZhcmlhYmxlTGVuZ3RoKCk7XHJcbiAgICBjb25zdCBtZW1iZXJzU2l6ZSA9IHN0cmVhbS5yZWFkVmFyaWFibGVMZW5ndGgoKTtcclxuICAgIGNvbnN0IG1lbWJlcnMgPSBwcm9jZXNzKHN0cmVhbSwgbWVtYmVyc1NpemUpO1xyXG4gICAgcmV0dXJuIG5ldyBFbnRpdHlVcGRhdGVFbnRpdHkoaWQsIG1lbWJlcnMpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcHJvY2VzcyhzdHJlYW06IGFwcC5CaW5hcnlSZWFkZXIsIHNpemU6IG51bWJlcikge1xyXG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheTxhcHAuRW50aXR5VXBkYXRlRW50aXR5TWVtYmVyPihzaXplKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykgcmVzdWx0W2ldID0gYXBwLkVudGl0eVVwZGF0ZUVudGl0eU1lbWJlci5jcmVhdGUoc3RyZWFtKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbiJdfQ==