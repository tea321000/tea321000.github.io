"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AreaViewModel = void 0;
const app = require("..");
const lib = require("lib");
class AreaViewModel {
    constructor(name, selector) {
        this.items = Array.from(fetch(selector)).map(x => new app.ItemViewModel(x));
        this.name = name;
    }
    toItemSet(value) {
        for (const entry of this.items) {
            if (!entry.store.value)
                continue;
            value.add(entry.value.itemId);
        }
    }
}
exports.AreaViewModel = AreaViewModel;
function* fetch(selector) {
    for (const item of lib.items.list) {
        if (!selector(item))
            continue;
        yield item;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYVZpZXdNb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy91aS9zZXR0aW5ncy9pdGVtcy92aWV3TW9kZWxzL0FyZWFWaWV3TW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMEJBQTBCO0FBQzFCLDJCQUEyQjtBQUUzQixNQUFhLGFBQWE7SUFJeEIsWUFBWSxJQUFZLEVBQUUsUUFBMEM7UUFDbEUsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBa0I7UUFDMUIsS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUs7Z0JBQUUsU0FBUztZQUNqQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7SUFDSCxDQUFDO0NBQ0Y7QUFmRCxzQ0FlQztBQUVELFFBQVMsQ0FBQyxDQUFBLEtBQUssQ0FBQyxRQUEwQztJQUN4RCxLQUFLLE1BQU0sSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFO1FBQ2pDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQUUsU0FBUztRQUM5QixNQUFNLElBQUksQ0FBQztLQUNaO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFwcCBmcm9tICcuLic7XHJcbmltcG9ydCAqIGFzIGxpYiBmcm9tICdsaWInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFyZWFWaWV3TW9kZWwge1xyXG4gIHJlYWRvbmx5IGl0ZW1zOiBBcnJheTxhcHAuSXRlbVZpZXdNb2RlbD47XHJcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHNlbGVjdG9yOiAoaXRlbTogbGliLml0ZW1zLkFsbCkgPT4gYm9vbGVhbikge1xyXG4gICAgdGhpcy5pdGVtcyA9IEFycmF5LmZyb20oZmV0Y2goc2VsZWN0b3IpKS5tYXAoeCA9PiBuZXcgYXBwLkl0ZW1WaWV3TW9kZWwoeCkpO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICB9XHJcblxyXG4gIHRvSXRlbVNldCh2YWx1ZTogU2V0PG51bWJlcj4pIHtcclxuICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5pdGVtcykge1xyXG4gICAgICBpZiAoIWVudHJ5LnN0b3JlLnZhbHVlKSBjb250aW51ZTtcclxuICAgICAgdmFsdWUuYWRkKGVudHJ5LnZhbHVlLml0ZW1JZCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiAqZmV0Y2goc2VsZWN0b3I6IChpdGVtOiBsaWIuaXRlbXMuQWxsKSA9PiBib29sZWFuKSB7XHJcbiAgZm9yIChjb25zdCBpdGVtIG9mIGxpYi5pdGVtcy5saXN0KSB7XHJcbiAgICBpZiAoIXNlbGVjdG9yKGl0ZW0pKSBjb250aW51ZTtcclxuICAgIHlpZWxkIGl0ZW07XHJcbiAgfVxyXG59XHJcbiJdfQ==